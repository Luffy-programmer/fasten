{
  "openapi": "3.0.2",
  "info": {
    "title": "FASTEN",
    "version": "0.1.0"
  },
  "paths": {
    "/api/": {
      "get": {
        "tags": [
          "app"
        ],
        "summary": "Root",
        "operationId": "root_api__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/{forge}/{pkg_name}/deps/{timestamp}": {
      "get": {
        "tags": [
          "app"
        ],
        "summary": "Rebuild Dependency Net",
        "description": "Given a pkg_name and a timestamp, reconstruct its dependency network\n\nReturn: A set of revisions, along with an adjacency matrix\n\nREST examples:\n\n    GET /api/mvn/org.slf4j:slf4j-api/deps/1233323123\n    GET /api/pypi/numpy/deps/1233323123?transitive=true",
        "operationId": "rebuild_dependency_net_api__forge___pkg_name__deps__timestamp__get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "title": "Forge",
              "type": "string"
            },
            "name": "forge",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Pkg Name",
              "type": "string"
            },
            "name": "pkg_name",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Timestamp",
              "type": "integer"
            },
            "name": "timestamp",
            "in": "path"
          },
          {
            "required": false,
            "schema": {
              "title": "Transitive",
              "type": "boolean",
              "default": false
            },
            "name": "transitive",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/{forge}/{pkg_name}/cg/{timestamp}": {
      "get": {
        "tags": [
          "app"
        ],
        "summary": "Get Call Graph",
        "description": "Given a pkg_name and a timestamp, retrieve its call graph\n\nUse case: A user wants to run a custom analysis locally.\n\nReturn: A JSON-serialized RevisionCallGraph\n\nREST examples:\n\n    GET /api/mvn/org.slf4j:slf4j-api/cg/1233323123\n    GET /api/pypi/numpy/cg/1233323123?transitive=true",
        "operationId": "get_call_graph_api__forge___pkg_name__cg__timestamp__get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "title": "Forge",
              "type": "string"
            },
            "name": "forge",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Pkg Name",
              "type": "string"
            },
            "name": "pkg_name",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Timestamp",
              "type": "integer"
            },
            "name": "timestamp",
            "in": "path"
          },
          {
            "required": false,
            "schema": {
              "title": "Transitive",
              "type": "boolean",
              "default": false
            },
            "name": "transitive",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/{forge}/{pkg_name}/{version}": {
      "get": {
        "tags": [
          "app"
        ],
        "summary": "Get Metadata",
        "description": "Given a pkg_name and a version, retrieve all known metadata\n\nReturn: All known metadata for a revision\n\nREST examples:\n\n    GET /api/mvn/org.slf4j:slf4j-api/1.7.29\n    GET /api/pypi/numpy/1.15.2",
        "operationId": "get_metadata_api__forge___pkg_name___version__get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "title": "Forge",
              "type": "string"
            },
            "name": "forge",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Pkg Name",
              "type": "string"
            },
            "name": "pkg_name",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Version",
              "type": "string"
            },
            "name": "version",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/{forge}/{pkg_name}/{version}/vulnerabilities": {
      "get": {
        "tags": [
          "app"
        ],
        "summary": "Get Vulnerabilities",
        "description": "Vulnerabilities in the transitive closure of a package version\n\nExpected result, in order of detail\n\n- Paths of revisions,\n- Paths of files / compilation units,\n- Paths of functions\n\nREST examples:\n\n    GET /api/mvn/org.slf4j:slf4j-api/1.7.29/vulnerabilities\n    GET /api/pypi/numpy/1.15.2/vulnerabilities",
        "operationId": "get_vulnerabilities_api__forge___pkg_name___version__vulnerabilities_get",
        "parameters": [
          {
            "required": true,
            "schema": {
              "title": "Forge",
              "type": "string"
            },
            "name": "forge",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Pkg Name",
              "type": "string"
            },
            "name": "pkg_name",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Version",
              "type": "string"
            },
            "name": "version",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/{forge}/{pkg_name}/{version}/impact": {
      "post": {
        "tags": [
          "app"
        ],
        "summary": "Update Impact",
        "description": "Impact analysis\n\nUse case: the user asks the KB to compute the impact of a semantic change\nto a function\n\nExapected result: The full set of functions reachable from the provided\nfunction\n\nREST examples:\n\n    POST /api/mvn/org.slf4j:slf4j-api/1.7.29/impact\n    POST /api/mvn/org.slf4j:slf4j-api/1.7.29/impact?transitive=true\n\nThe post body contains a FASTEN URI",
        "operationId": "update_impact_api__forge___pkg_name___version__impact_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "title": "Forge",
              "type": "string"
            },
            "name": "forge",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Pkg Name",
              "type": "string"
            },
            "name": "pkg_name",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Version",
              "type": "string"
            },
            "name": "version",
            "in": "path"
          },
          {
            "required": false,
            "schema": {
              "title": "Transitive",
              "type": "boolean",
              "default": false
            },
            "name": "transitive",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/{forge}/{pkg_name}/{version}/cg": {
      "post": {
        "tags": [
          "app"
        ],
        "summary": "Update Cg",
        "description": "Update the static CG of a package version with new edges\n\nUse case: A user runs an instrumented test suite locally and decides to\nupdate the central call graph with edges that do not exist due to\nshortcomings in static analysis.\n\nExpected result: A list of edges that where added.\n\nREST examples:\n\n    POST /api/mvn/org.slf4j:slf4j-api/1.7.29/cg\n    POST /api/pypi/numpy/1.15.2/cg",
        "operationId": "update_cg_api__forge___pkg_name___version__cg_post",
        "parameters": [
          {
            "required": true,
            "schema": {
              "title": "Forge",
              "type": "string"
            },
            "name": "forge",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Pkg Name",
              "type": "string"
            },
            "name": "pkg_name",
            "in": "path"
          },
          {
            "required": true,
            "schema": {
              "title": "Version",
              "type": "string"
            },
            "name": "version",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "HTTPValidationError": {
        "title": "HTTPValidationError",
        "type": "object",
        "properties": {
          "detail": {
            "title": "Detail",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            }
          }
        }
      },
      "ValidationError": {
        "title": "ValidationError",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "type": "object",
        "properties": {
          "loc": {
            "title": "Location",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        }
      }
    }
  }
}